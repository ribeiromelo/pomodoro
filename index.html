<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PomodoroPro | Timer</title>
    <!-- Meta Tags para Compartilhamento (Adicione estas) -->
    <meta property="og:title" content="PomodoroPro - Aumente sua produtividade">
    <meta property="og:description" content="Técnica Pomodoro avançada com gestão de tarefas e relatórios de produtividade. Ideal para estudantes e profissionais.">
    <meta property="og:image" content="/imagempomo.png">
    <meta property="og:url" content="https://pomodoropro.online/">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%238B5CF6'><path d='M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z'/><path d='M13 7h-2v5.414l3.293 3.293 1.414-1.414L13 11.586z'/></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827;
            color: #f3f4f6;
            overflow-y: auto;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body.light-mode {
            background-color: #f3f4f6;
            color: #111827;
        }
        
        .light-mode .bg-gray-800 {
            background-color: #e5e7eb !important;
        }

        .light-mode .bg-gray-800\/50 {
            background-color: rgba(229, 231, 235, 0.5) !important;
        }

        .light-mode .bg-gray-700 {
            background-color: #d1d5db !important;
        }

        .light-mode .bg-gray-700\/50 {
            background-color: rgba(209, 213, 219, 0.5) !important;
        }

        .light-mode .text-gray-300 {
            color: #4b5563 !important;
        }

        .light-mode .text-gray-400 {
            color: #6b7280 !important;
        }

        .light-mode .border-gray-600 {
            border-color: #9ca3af !important;
        }

        .light-mode .border-gray-700 {
            border-color: #d1d5db !important;
        }

        .light-mode .text-white {
            color: #111827 !important;
        }

        .light-mode .bg-gray-900 {
            background-color: #f9fafb !important;
        }
        
        .timer-circle {
            transition: all 0.3s ease;
        }
        
        .progress-ring__circle {
            transition: stroke-dashoffset 0.3s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            stroke-dashoffset: 283;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .blob {
            filter: blur(40px);
            opacity: 0.2;
        }
        
        .blob-1 {
            animation: blob-move 15s infinite alternate;
        }
        
        .blob-2 {
            animation: blob-move 20s infinite alternate-reverse;
        }
        
        .blob-3 {
            animation: blob-move 25s infinite alternate;
        }
        
        @keyframes blob-move {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(50px, 100px) scale(1.2); }
            100% { transform: translate(0, 0) scale(1); }
        }

        /* Modal styles */
        .modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        
        .modal-hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }
        
        .modal-visible {
            opacity: 1;
            transform: scale(1);
        }

        /* Task completed style */
        .task-completed {
            text-decoration: line-through;
            opacity: 0.6;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1f2937;
        }
        
        .light-mode ::-webkit-scrollbar-track {
            background: #e5e7eb;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #4b5563;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #6b7280;
        }

        /* Focus mode transition */
        .focus-transition {
            transition: all 0.3s ease;
        }

        /* Tooltip */
        .tooltip {
            position: relative;
            display: inline-block;
        }
        
        .tooltip .tooltiptext {
            visibility: hidden;
            width: 120px;
            background-color: #374151;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }

        .light-mode .tooltip .tooltiptext {
            background-color: #d1d5db;
            color: #111827;
        }
        
        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        /* Focus mode exit button */
        #exit-focus-btn {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 100;
        }
        
        .focus-mode-active #exit-focus-btn {
            opacity: 1;
        }

        /* Three column layout */
        .main-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 24px;
            width: 95%;
            max-width: 1800px;
            margin: 0 auto;
            padding: 24px 0;
        }

        .left-column, .center-column, .right-column {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .timer-section {
            grid-column: 1 / span 3;
        }

        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
            }
            
            .left-column, .center-column, .right-column {
                grid-column: 1;
            }
        }

        /* Button press effect */
        .btn-press:active {
            transform: scale(0.95);
        }

        /* Task animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .task-item {
            animation: fadeIn 0.3s ease-out;
        }

        /* Footer in focus mode */
        .focus-mode-active footer {
            display: none;
        }
    </style>
</head>
<body class="overflow-x-hidden">
    <!-- Animated Background Blobs -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none z-0">
        <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-purple-600 rounded-full blob blob-1"></div>
        <div class="absolute top-1/3 right-1/4 w-64 h-64 bg-indigo-600 rounded-full blob blob-2"></div>
        <div class="absolute bottom-1/4 left-1/2 w-64 h-64 bg-pink-600 rounded-full blob blob-3"></div>
    </div>

    <div class="main-container relative z-10">
        <!-- Header -->
        <div class="flex justify-between items-center mb-8 timer-section">
            <div class="flex items-center">
                <div>
                    <svg class="w-8 h-8 text-purple-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <span class="text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-indigo-300">
                    Pomodoro<span class="text-purple-500">+</span>
                </span>
            </div>
            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="text-gray-400 hover:text-purple-500 transition-colors" title="Alternar tema">
                    <i class="fas fa-moon" id="theme-icon"></i>
                </button>
                <div class="tooltip">
                    <button id="focus-mode-btn" class="text-gray-400 hover:text-purple-500 transition-colors">
                        <i class="fas fa-eye"></i>
                    </button>
                    <span class="tooltiptext">Modo Foco Total</span>
                </div>
                <button id="settings-btn" class="text-gray-400 hover:text-purple-500 transition-colors" title="Configurações">
                    <i class="fas fa-cog"></i>
                </button>
                <button id="fullscreen-btn" class="text-gray-400 hover:text-purple-500 transition-colors" title="Tela Cheia">
                    <i class="fas fa-expand"></i>
                </button>
            </div>
        </div>
        
        <!-- Tabs -->
        <div class="flex justify-center mb-8 focus-transition timer-section">
            <div class="inline-flex bg-gray-800 rounded-full p-1 shadow-lg">
                <button id="pomodoro-tab" class="px-4 py-2 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-medium focus:outline-none transition hover:from-purple-700 hover:to-indigo-700">
                    Pomodoro
                </button>
                <button id="short-tab" class="px-4 py-2 rounded-full text-gray-400 font-medium focus:outline-none hover:bg-gray-700 transition">
                    Short Break
                </button>
                <button id="long-tab" class="px-4 py-2 rounded-full text-gray-400 font-medium focus:outline-none hover:bg-gray-700 transition">
                    Long Break
                </button>
            </div>
        </div>
        
        <!-- Timer -->
        <div id="focus-area" class="bg-gray-800/50 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-8 border border-gray-700 focus-transition timer-section">
            <div class="relative w-64 h-64 mx-auto mb-8">
                <!-- Progress Ring -->
                <svg class="w-full h-full" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="#374151" stroke-width="6"/>
                    <circle class="progress-ring__circle" cx="50" cy="50" r="45" fill="none" stroke="url(#gradient)" stroke-width="6" stroke-dasharray="283" stroke-dashoffset="283"/>
                    <defs>
                        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stop-color="#8B5CF6" />
                            <stop offset="100%" stop-color="#6366F1" />
                        </linearGradient>
                    </defs>
                </svg>
                
                <!-- Timer Display -->
                <div class="absolute inset-0 flex flex-col items-center justify-center">
                    <div class="text-5xl font-bold text-white mb-2" id="time-display">25:00</div>
                    <button class="text-lg font-medium text-purple-400 hover:text-purple-300 focus:outline-none transition-colors btn-press" id="start-pause-btn">
                        START
                    </button>
                    <button class="mt-2 text-gray-400 hover:text-white transition-colors btn-press" id="reset-btn" title="Reiniciar">
                        <i class="fas fa-rotate-right fa-lg"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Three column content -->
        <div class="left-column">
            <!-- Daily Tasks -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <h3 class="text-lg font-semibold text-white mb-4">No que está focando hoje?</h3>
                <div class="flex items-center mb-4">
                    <input id="new-task-input" type="text" placeholder="Adicionar nova tarefa..." class="flex-1 py-2 px-3 bg-gray-700 text-white rounded-l border-t border-l border-b border-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-500" />
                    <button id="add-task-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-r transition btn-press">+</button>
                </div>
                <div id="task-list" class="space-y-2 max-h-96 overflow-y-auto pr-2"></div>
            </div>
            
            <!-- Stats -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-white">Progresso do dia</h3>
                    <button class="text-gray-500 hover:text-white focus:outline-none transition-colors">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
                
                <div class="flex space-x-4 mb-4">
                    <div class="flex-1 bg-gray-700/50 rounded-lg p-4 text-center border border-gray-600">
                        <div class="text-2xl font-bold text-purple-400 mb-1" id="completed-sessions">0</div>
                        <div class="text-sm text-gray-400">Concluídas</div>
                    </div>
                    <div class="flex-1 bg-gray-700/50 rounded-lg p-4 text-center border border-gray-600">
                        <div class="text-2xl font-bold text-indigo-400 mb-1" id="total-sessions">0</div>
                        <div class="text-sm text-gray-400">Totais</div>
                    </div>
                </div>
                
                <div class="w-full bg-gray-700 rounded-full h-2.5">
                    <div class="bg-gradient-to-r from-purple-500 to-indigo-500 h-2.5 rounded-full" id="progress-bar" style="width: 0%"></div>
                </div>
            </div>
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <h4 class="text-md font-semibold text-white mb-2">Como usar o PomodoroPro</h4>
        <div class="relative aspect-w-16 aspect-h-9 bg-black rounded-lg overflow-hidden">
            <video 
                id="motivational-video"
                class="w-full h-full object-cover"
                controls
                poster="https://placehold.co/600x338/1f2937/8B5CF6?text=Clique+para+assistir">
                <source src="videopomodopro.mp4" type="video/mp4">
                Seu navegador não suporta vídeos HTML5.
            </video>
            <div id="video-overlay" class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-30 cursor-pointer transition-opacity hover:bg-opacity-20">
                <button id="play-button" class="bg-purple-600 hover:bg-purple-700 text-white rounded-full w-16 h-16 flex items-center justify-center transition-transform transform hover:scale-110">
                    <i class="fas fa-play text-2xl"></i>
                </button>
            </div>
        </div>
            </div>
        </div>
    
        <div class="center-column">
            <!-- Learning Section 1 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <h3 class="text-lg font-semibold text-white mb-4">O Poder do Pomodoro:</h3>
                
                <div class="space-y-4 text-gray-300">
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-purple-400 mb-2">📊 Por que o Método Pomodoro funciona?</h4>
                        <p class="text-sm">A técnica Pomodoro combate a procrastinação e aumenta a produtividade ao dividir o trabalho em blocos de 25 minutos (pomodoros) seguidos por pausas curtas. Isso mantém sua mente fresca e focada, evitando o esgotamento mental.</p>
                    </div>
                    
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-indigo-400 mb-2">🧠 A Ciência por Trás dos Intervalos</h4>
                        <p class="text-sm">Nosso cérebro tem um limite de atenção sustentada. As pausas regulares permitem que o cérebro consolide a informação aprendida, melhorando a retenção a longo prazo.</p>
                    </div>
                </div>
            </div>

            <!-- Learning Section 2 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <h3 class="text-lg font-semibold text-white mb-4">Dicas Avançadas:</h3>
                
                <div class="space-y-4 text-gray-300">
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-pink-400 mb-2">⏱️ Personalize seus intervalos</h4>
                        <p class="text-sm">Experimente ajustar a duração dos pomodoros e pausas para encontrar o ritmo ideal para você. Algumas pessoas rendem melhor com blocos de 50 minutos, outras com 30.</p>
                    </div>
                    
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-purple-300 mb-2">📝 Tarefas complexas</h4>
                        <p class="text-sm">Para tarefas complexas, divida em subtarefas menores que possam ser concluídas em um ou dois pomodoros. Isso dá senso de progresso e mantém a motivação.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="right-column">
            <!-- Learning Section 3 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <h3 class="text-lg font-semibold text-white mb-4">Técnicas Complementares:</h3>
                
                <div class="space-y-4 text-gray-300">
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-pink-400 mb-2">🔁 Revisão Espaçada + Pomodoro = Memorização Perfeita</h4>
                        <p class="text-sm">Quando combinamos o Pomodoro com revisões espaçadas (usando flashcards), criamos o ambiente ideal para aprendizagem profunda. A técnica de repetição espaçada mostra a informação no momento exato antes que você esqueça, fortalecendo a memória.</p>
                    </div>
                    
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-purple-300 mb-2">🎯 Como Potencializar seus Estudos</h4>
                        <ul class="text-sm list-disc pl-5 space-y-1">
                            <li>Use 1 Pomodoro para estudar novos conceitos</li>
                            <li>Use o próximo Pomodoro para revisar com flashcards</li>
                            <li>Nas pausas, faça uma caminhada curta - movimento ajuda a fixação</li>
                            <li>No final do dia, revise rapidamente os flashcards marcados como difíceis</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Learning Section 4 -->
            <div class="bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 focus-transition">
                <h3 class="text-lg font-semibold text-white mb-4">Ferramentas Úteis:</h3>
                
                <div class="space-y-4 text-gray-300">
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-indigo-400 mb-2">📱 Aplicativos recomendados</h4>
                        <p class="text-sm">Combine este timer com apps de flashcards como Anki ou Quizlet para maximizar sua aprendizagem durante os pomodoros.</p>
                    </div>
                    
                    <div class="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                        <h4 class="font-medium text-purple-400 mb-2">🔄 Fluxo de trabalho ideal</h4>
                        <p class="text-sm">Após cada 4 pomodoros, faça uma pausa mais longa (15-30 minutos). Use esse tempo para alongar, meditar ou fazer uma caminhada rápida.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Exit Focus Mode Button (hidden by default) -->
    <button id="exit-focus-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg shadow-lg transition">
        <i class="fas fa-times mr-2"></i> Sair do Modo Foco
    </button>

    <!-- Settings Modal -->
    <div id="settings-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 modal modal-hidden">
        <div class="bg-gray-800 rounded-xl shadow-2xl w-full max-w-md border border-gray-700 overflow-hidden">
            <div class="flex justify-between items-center p-6 border-b border-gray-700">
                <h3 class="text-xl font-semibold text-white">Configurações do Pomodoro</h3>
                <button id="close-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-6">
                <div class="grid grid-cols-1 gap-6">
                    <div>
                        <label class="block text-gray-300 mb-2" for="modal-pomodoro-time">Pomodoro (minutos):</label>
                        <input id="modal-pomodoro-time" type="number" min="1" class="w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-purple-600 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-300 mb-2" for="modal-short-break">Pausa Curta (minutos):</label>
                        <input id="modal-short-break" type="number" min="1" class="w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-purple-600 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-300 mb-2" for="modal-long-break">Pausa Longa (minutos):</label>
                        <input id="modal-long-break" type="number" min="1" class="w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-purple-600 focus:outline-none">
                    </div>
                    <div>
                        <label class="block text-gray-300 mb-2" for="sound-selector">Som de Notificação:</label>
                        <select id="sound-selector" class="w-full px-4 py-2 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-purple-600 focus:outline-none">
                            <option value="1">Som Clássico</option>
                            <option value="2">Sino</option>
                            <option value="3">Alarme Digital</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="p-6 border-t border-gray-700 flex justify-end space-x-3">
                <button id="cancel-settings" class="px-6 py-2 text-gray-300 hover:text-white rounded-lg transition btn-press">
                    Cancelar
                </button>
                <button id="save-settings" class="px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition btn-press">
                    Salvar Configurações
                </button>
            </div>
        </div>
    </div>

    <script>
        // Timer logic
        // Load or set default timer settings
        let settings = {
            pomodoro: 25,
            short: 5,
            long: 15,
            sound: "1"
        };

        if (localStorage.getItem('pomodoroSettings')) {
            settings = JSON.parse(localStorage.getItem('pomodoroSettings'));
        }

        // Sound options
        const sounds = {
            "1": "https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3",
            "2": "https://assets.mixkit.co/sfx/preview/mixkit-melodic-bonus-collect-1938.mp3",
            "3": "https://assets.mixkit.co/sfx/preview/mixkit-software-interface-start-2574.mp3"
        };

        // Load theme preference
        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-mode');
            document.getElementById('theme-icon').classList.replace('fa-moon', 'fa-sun');
        }

        let currentMode = 'pomodoro'; // 'pomodoro' | 'short' | 'long'
        let minutes = settings.pomodoro;
        let seconds = 0;
        let isRunning = false;
        let timerInterval;
        let completedSessions = parseInt(localStorage.getItem('completedSessions')) || 0;
        let totalSessions = parseInt(localStorage.getItem('totalSessions')) || 0;
        
        const timeDisplay = document.getElementById('time-display');
        const startPauseBtn = document.getElementById('start-pause-btn');
        const progressCircle = document.querySelector('.progress-ring__circle');
        const completedSessionsEl = document.getElementById('completed-sessions');
        const totalSessionsEl = document.getElementById('total-sessions');
        const progressBar = document.getElementById('progress-bar');
        const fullscreenBtn = document.getElementById('fullscreen-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const settingsModal = document.getElementById('settings-modal');
        const closeModalBtn = document.getElementById('close-modal');
        const cancelSettingsBtn = document.getElementById('cancel-settings');
        const saveSettingsBtn = document.getElementById('save-settings');
        const focusBtn = document.getElementById('focus-mode-btn');
        const exitFocusBtn = document.getElementById('exit-focus-btn');
        const focusArea = document.getElementById('focus-area');
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const pomodoroTab = document.getElementById('pomodoro-tab');
        const shortTab = document.getElementById('short-tab');
        const longTab = document.getElementById('long-tab');
        const soundSelector = document.getElementById('sound-selector');
        let isFocusMode = false;
        
        // Initialize progress circle
        progressCircle.style.strokeDashoffset = "283";
        
        // Modal functions
        function openModal() {
            // Fill modal inputs with current settings
            document.getElementById('modal-pomodoro-time').value = settings.pomodoro;
            document.getElementById('modal-short-break').value = settings.short;
            document.getElementById('modal-long-break').value = settings.long;
            soundSelector.value = settings.sound;
            
            settingsModal.classList.remove('modal-hidden');
            settingsModal.classList.add('modal-visible');
        }

        function closeModal() {
            settingsModal.classList.remove('modal-visible');
            settingsModal.classList.add('modal-hidden');
        }
        
        function updateDisplay() {
            timeDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update progress circle (for current mode's time)
            const totalSeconds = settings[currentMode] * 60;
            const remainingSeconds = minutes * 60 + seconds;
            const offset = 283 - (remainingSeconds / totalSeconds) * 283;
            progressCircle.style.strokeDashoffset = offset;
            
            // Update stats
            completedSessionsEl.textContent = completedSessions;
            totalSessionsEl.textContent = totalSessions;
            progressBar.style.width = totalSessions > 0 ? `${(completedSessions / totalSessions) * 100}%` : '0%';
        }
        
        function toggleTimer() {
            if (isRunning) {
                clearInterval(timerInterval);
                startPauseBtn.textContent = 'START';
                startPauseBtn.classList.remove('animate-pulse-slow');
            } else {
                timerInterval = setInterval(() => {
                    if (seconds === 0) {
                        if (minutes === 0) {
                            clearInterval(timerInterval);
                            
                            // Play selected sound
                            const audio = new Audio(sounds[settings.sound]);
                            audio.play();
                            
                            // Notification
                            if (Notification.permission === 'granted') {
                                new Notification('Pomodoro Completo!', {
                                    body: currentMode === 'pomodoro' ? 'Hora de uma pausa!' : 'Hora de voltar ao trabalho!',
                                    icon: 'https://placehold.co/128/8B5CF6/white?text=P+'
                                });
                            }
                            
                            // Change button to "START" and reset timer
                            isRunning = false;
                            startPauseBtn.textContent = 'START';
                            startPauseBtn.classList.remove('animate-pulse-slow');
                            
                            // If it was a pomodoro session, increment completed sessions
                            if (currentMode === 'pomodoro') {
                                completedSessions++;
                                localStorage.setItem('completedSessions', completedSessions);
                                updateDisplay();
                            }
                            return;
                        }
                        minutes--;
                        seconds = 59;
                    } else {
                        seconds--;
                    }
                    updateDisplay();
                }, 1000);
                startPauseBtn.textContent = 'PAUSE';
                startPauseBtn.classList.add('animate-pulse-slow');
            }
            isRunning = !isRunning;
        }
        
        function resetTimer() {
            clearInterval(timerInterval);
            minutes = settings[currentMode];
            seconds = 0;
            isRunning = false;
            startPauseBtn.textContent = 'START';
            startPauseBtn.classList.remove('animate-pulse-slow');
            updateDisplay();
        }
        
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(err => {
                    console.error(`Error attempting to enable fullscreen: ${err.message}`);
                });
                fullscreenBtn.innerHTML = '<i class="fas fa-compress"></i>';
            } else {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                    fullscreenBtn.innerHTML = '<i class="fas fa-expand"></i>';
                }
            }
        }

        // Toggle theme
        function toggleTheme() {
            document.body.classList.toggle('light-mode');
            
            if (document.body.classList.contains('light-mode')) {
                themeIcon.classList.replace('fa-moon', 'fa-sun');
                localStorage.setItem('theme', 'light');
            } else {
                themeIcon.classList.replace('fa-sun', 'fa-moon');
                localStorage.setItem('theme', 'dark');
            }
        }

        // Focus mode toggle
        function toggleFocusMode() {
            isFocusMode = !isFocusMode;
            
            if (isFocusMode) {
                document.body.classList.add('focus-mode-active');
                const elementsToHide = document.querySelectorAll(".left-column, .center-column, .right-column, footer");
                
                elementsToHide.forEach(el => {
                    el.style.display = 'none';
                });

                focusBtn.innerHTML = '<i class="fas fa-eye-slash"></i>';
                
                // Adjust visual focus
                focusArea.classList.add("scale-[1.25]", "transition-transform");
                document.body.classList.add("flex", "items-center", "justify-center");
                focusArea.classList.remove("mb-8");
            } else {
                document.body.classList.remove('focus-mode-active');
                const elementsToShow = document.querySelectorAll(".left-column, .center-column, .right-column, footer");
                
                elementsToShow.forEach(el => {
                    el.style.display = '';
                });

                focusBtn.innerHTML = '<i class="fas fa-eye"></i>';
                
                focusArea.classList.remove("scale-[1.25]");
                document.body.classList.remove("flex", "items-center", "justify-center");
                focusArea.classList.add("mb-8");
            }
        }

        // --- To-Do List ---
        let tasks = JSON.parse(localStorage.getItem('pomodoroTasks')) || [];

        const taskList = document.getElementById('task-list');
        const newTaskInput = document.getElementById('new-task-input');
        const addTaskBtn = document.getElementById('add-task-btn');

        // Render tasks
        function renderTasks() {
            taskList.innerHTML = '';
            tasks.forEach((task, index) => {
                const taskItem = document.createElement('div');
                taskItem.className = "flex items-center bg-gray-700/50 rounded-lg p-3 border border-gray-600 task-item";
                
                const checkBtn = document.createElement('button');
                checkBtn.className = `w-5 h-5 rounded-full border-2 mr-3 flex items-center justify-center focus:outline-none transition-colors ${task.completed ? 'border-purple-500 bg-purple-500' : 'border-gray-500 hover:border-purple-500'}`;
                checkBtn.innerHTML = task.completed ? '<i class="fas fa-check text-white text-xs"></i>' : '';
                checkBtn.addEventListener('click', () => toggleTask(index));
                
                const taskText = document.createElement('span');
                taskText.textContent = task.text;
                taskText.className = `flex-1 text-white ${task.completed ? 'task-completed' : ''}`;
                
                const deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = '<i class="fas fa-trash-alt"></i>';
                deleteBtn.className = 'text-gray-400 hover:text-red-500 ml-4 transition-colors btn-press';
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    deleteTask(index);
                });

                taskItem.appendChild(checkBtn);
                taskItem.appendChild(taskText);
                taskItem.appendChild(deleteBtn);
                taskList.appendChild(taskItem);
            });
        }

        // Add new task
        function addTask() {
            const text = newTaskInput.value.trim();
            if (text !== '') {
                tasks.push({ text, completed: false });
                saveTasks();
                renderTasks();
                newTaskInput.value = '';
                totalSessions++;
                localStorage.setItem('totalSessions', totalSessions);
                updateDisplay();
            }
        }

        // Toggle task completion
        function toggleTask(index) {
            tasks[index].completed = !tasks[index].completed;
            
            if (tasks[index].completed) {
                completedSessions++;
            } else {
                completedSessions--;
            }
            
            saveTasks();
            renderTasks();
            localStorage.setItem('completedSessions', completedSessions);
            updateDisplay();
        }

        // Delete task
        function deleteTask(index) {
            if (tasks[index].completed) {
                completedSessions--;
            }
            tasks.splice(index, 1);
            totalSessions--;
            
            saveTasks();
            renderTasks();
            localStorage.setItem('completedSessions', completedSessions);
            localStorage.setItem('totalSessions', totalSessions);
            updateDisplay();
        }

        // Save tasks to localStorage
        function saveTasks() {
            localStorage.setItem('pomodoroTasks', JSON.stringify(tasks));
        }

        // Switch timer mode
        function switchMode(mode) {
            currentMode = mode;
            resetTimer();
            
            // Update active tab
            pomodoroTab.classList.remove('bg-gradient-to-r', 'from-purple-600', 'to-indigo-600', 'text-white');
            shortTab.classList.remove('bg-gradient-to-r', 'from-purple-600', 'to-indigo-600', 'text-white');
            longTab.classList.remove('bg-gradient-to-r', 'from-purple-600', 'to-indigo-600', 'text-white');
            
            if (mode === 'pomodoro') {
                pomodoroTab.classList.add('bg-gradient-to-r', 'from-purple-600', 'to-indigo-600', 'text-white');
            } else if (mode === 'short') {
                shortTab.classList.add('bg-gradient-to-r', 'from-purple-600', 'to-indigo-600', 'text-white');
            } else {
                longTab.classList.add('bg-gradient-to-r', 'from-purple-600', 'to-indigo-600', 'text-white');
            }
        }

        // Event listeners
        startPauseBtn.addEventListener('click', toggleTimer);
        fullscreenBtn.addEventListener('click', toggleFullscreen);
        settingsBtn.addEventListener('click', openModal);
        closeModalBtn.addEventListener('click', closeModal);
        cancelSettingsBtn.addEventListener('click', closeModal);
        addTaskBtn.addEventListener('click', addTask);
        newTaskInput.addEventListener('keydown', e => {
            if (e.key === 'Enter') addTask();
        });
        document.getElementById('reset-btn').addEventListener('click', resetTimer);
        themeToggle.addEventListener('click', toggleTheme);
        focusBtn.addEventListener('click', toggleFocusMode);
        exitFocusBtn.addEventListener('click', toggleFocusMode);
        pomodoroTab.addEventListener('click', () => switchMode('pomodoro'));
        shortTab.addEventListener('click', () => switchMode('short'));
        longTab.addEventListener('click', () => switchMode('long'));
        
        // Save settings
        saveSettingsBtn.addEventListener('click', () => {
            const pomodoro = parseInt(document.getElementById('modal-pomodoro-time').value);
            const short = parseInt(document.getElementById('modal-short-break').value);
            const long = parseInt(document.getElementById('modal-long-break').value);
            const sound = soundSelector.value;

            if (pomodoro > 0 && short > 0 && long > 0) {
                settings = { pomodoro, short, long, sound };
                localStorage.setItem('pomodoroSettings', JSON.stringify(settings));
                resetTimer();
                closeModal();
            } else {
                alert("Todos os tempos devem ser maiores que zero.");
            }
        });
        
        // Close modal when clicking outside
        settingsModal.addEventListener('click', (e) => {
            if (e.target === settingsModal) {
                closeModal();
            }
        });

        // Notification permission
        if (Notification.permission !== 'granted') {
            Notification.requestPermission();
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            const isTyping = ['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName);
            if (isTyping) return;

            switch (e.code) {
                case 'Space':
                    e.preventDefault();
                    toggleTimer();
                    break;
                case 'KeyR':
                    e.preventDefault();
                    resetTimer();
                    break;
                case 'KeyF':
                    e.preventDefault();
                    toggleFullscreen();
                    break;
            }
        });

        // Initialize display
        updateDisplay();
        renderTasks();

        // Controles do vídeo motivacional
    const video = document.getElementById('motivational-video');
    const overlay = document.getElementById('video-overlay');
    const playButton = document.getElementById('play-button');

    // Mostrar/ocultar overlay
    video.addEventListener('play', () => {
        overlay.style.opacity = '0';
        setTimeout(() => {
            overlay.style.display = 'none';
        }, 300);
    });

    video.addEventListener('pause', () => {
        overlay.style.display = 'flex';
        setTimeout(() => {
            overlay.style.opacity = '1';
        }, 10);
    });

    // Controles de clique
    playButton.addEventListener('click', (e) => {
        e.stopPropagation();
        video.play();
    });

    overlay.addEventListener('click', () => {
        if(video.paused) {
            video.play();
        } else {
            video.pause();
        }
    });

    // Bloqueia atalhos de teclado
document.addEventListener('keydown', function(e) {
    if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {
        e.preventDefault();
    }
});

// Bloqueia menu de contexto no vídeo
document.getElementById('motivational-video').addEventListener('contextmenu', function(e) {
    e.preventDefault();
    return false;
});
    </script>
    <!-- Rodapé -->
    <footer class="w-full py-6 text-center border-t border-gray-800 mt-12">
        <div class="text-gray-400 text-sm">
            <p>&copy; <span id="current-year">2023</span> Pomodoro Timer - controle seu tempo</p>
            <p class="mt-1">Desenvolvido por <span class="font-bold bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-indigo-300">Erique Melo</span></p>
        </div>
    </footer>

    <script>
        // Atualiza o ano automaticamente
        document.getElementById('current-year').textContent = new Date().getFullYear();
    </script>
</body>
</html>
